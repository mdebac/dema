<mat-expansion-panel class="custom-panel-page" (opened)="isOpened = !isOpened" (closed)="isOpened = !isOpened">

    <mat-expansion-panel-header>
        <mat-panel-title>
            <mat-icon>format_color_fill</mat-icon>
            <div class="naslov-page"> {{ "dialog.main.colors" | translate }}</div>
        </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="actionButtons-page">
        <mat-button-toggle-group [value]="activeDetail?.backgroundColor"
                                 (change)="onChangeBackgroundColor($event, activeDetail)">
            <mat-button-toggle class="primaryColor" [value]=header?.main?.colors?.primaryColor></mat-button-toggle>
            <mat-button-toggle class="secondaryColor" [value]=header?.main?.colors?.secondaryColor></mat-button-toggle>
            <mat-button-toggle class="dangerColor" [value]=header?.main?.colors?.dangerColor></mat-button-toggle>
            <mat-button-toggle class="warnColor" [value]=header?.main?.colors?.warnColor></mat-button-toggle>
            <mat-button-toggle class="infoColor" [value]=header?.main?.colors?.infoColor></mat-button-toggle>
            <mat-button-toggle class="acceptColor" [value]=header?.main?.colors?.acceptColor></mat-button-toggle>
            <mat-button-toggle class="whiteColor" [value]="'#FFFFFF'"></mat-button-toggle>
            <mat-button-toggle class="blackColor" [value]="'#000000'"></mat-button-toggle>
        </mat-button-toggle-group>
    </div>

</mat-expansion-panel>


<mat-expansion-panel class="custom-panel-page" (opened)="isOpened = !isOpened" (closed)="isOpened = !isOpened">

    <mat-expansion-panel-header>
        <mat-panel-title>
            <mat-icon>auto_awesome_mosaic</mat-icon>
            <div class="naslov-page"> {{ "summer.layout" | translate }}</div>
        </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="actionButtons-page">

        @if (!activeDetail?.topMenu?.hideMenuPanelIfOne) {
            @if (activeDetail?.topMenu?.side === Side.LEFT) {
                <button mat-flat-button (click)="addToRightMenuPanel(activeDetail)">
                    <mat-icon>view_sidebar</mat-icon>
                    {{ "summer.add.menu.to.right" | translate }}
                </button>
            } @else {
                <button mat-flat-button (click)="addToLeftMenuPanel(activeDetail)">
                    <mat-icon style="transform: rotate(180deg)">view_sidebar</mat-icon>
                    {{ "summer.add.menu.to.left" | translate }}
                </button>
            }
        }

        @if (activeDetail?.topMenu?.layout === Layout.CENTER) {
            <button mat-flat-button (click)="fullScreen(activeDetail)">
                <mat-icon style="transform: rotate(90deg)">expand</mat-icon>
                {{ "summer.full.screen" | translate }}
            </button>
        } @else {
            <button mat-flat-button (click)="center(activeDetail)">
                <mat-icon style="transform: rotate(90deg)">compress</mat-icon>
                {{ "summer.center" | translate }}
            </button>
        }

        @if (activeDetail?.topMenu?.panelOn) {
            <button mat-flat-button (click)="panelOff(activeDetail)">
                <i class="fa fa-columns" aria-hidden="true"></i>
                {{ "summer.panel.off" | translate }}
            </button>
        } @else {
            <button mat-flat-button (click)="panelOn(activeDetail)">
                <i class="fa fa-columns" aria-hidden="true"></i>
                {{ "summer.panel.on" | translate }}
            </button>
        }

        @if (activeDetail?.topMenu?.hideMenuPanelIfOne) {
            <button mat-flat-button (click)="sideMenuOn(activeDetail)">
                <i class="fa fa-columns" aria-hidden="true"></i>
                {{ "summer.side.menu.on" | translate }}
            </button>
        } @else {
            <button mat-flat-button (click)="sideMenuOff(activeDetail)">
                <i class="fa fa-columns" aria-hidden="true"></i>
                {{ "summer.side.menu.off" | translate }}
            </button>
        }
    </div>

</mat-expansion-panel>

<mat-expansion-panel class="custom-panel-page" (opened)="isOpened = !isOpened" (closed)="isOpened = !isOpened">

    <mat-expansion-panel-header>
        <mat-panel-title>
            <i class="fa-solid fa-table-cells fa-xl text"></i>
            <div class="naslov-page"> {{ "summer.columns" | translate }}</div>
        </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="actionButtons-page">
        <mat-button-toggle-group hideSingleSelectionIndicator="true"
                                 [value]="activeDetail?.columns"
                                 (change)="onChangeColumns($event,activeDetail)">
            <mat-button-toggle class="primaryColor columns-text" [value]="1">1</mat-button-toggle>
            <mat-button-toggle class="primaryColor columns-text" [value]="2">2</mat-button-toggle>
            <mat-button-toggle class="primaryColor columns-text" [value]="3">3</mat-button-toggle>
            <mat-button-toggle class="primaryColor columns-text" [value]="4">4</mat-button-toggle>
            <mat-button-toggle class="primaryColor columns-text" [value]="5">5</mat-button-toggle>
        </mat-button-toggle-group>
    </div>

</mat-expansion-panel>

<mat-expansion-panel #updateTitlesAndIconsPanel class="custom-panel-page"
                     (click)="updateTitlesAndIcons(header, activeDetail)" hideToggle>
    <mat-expansion-panel-header>
        <mat-panel-title>
            <mat-icon>update</mat-icon>
            <div class="naslov-page"> {{ "title.and.icons" | translate }}</div>
        </mat-panel-title>
    </mat-expansion-panel-header>
</mat-expansion-panel>

<mat-expansion-panel #createNewItemPanel class="custom-panel-page"
                     (click)="createNewItem(activeDetail, header?.main?.colors, header?.main?.host)" hideToggle>
    <mat-expansion-panel-header>
        <mat-panel-title>
            <mat-icon>add_circle</mat-icon>
            <div class="naslov-page">{{ "summer.new.item" | translate }}</div>
        </mat-panel-title>
    </mat-expansion-panel-header>
</mat-expansion-panel>

@if (!onlyOne(header?.menus)) {
    <mat-expansion-panel class="custom-panel-page" (click)="deleteDetail(activeDetail)" hideToggle>
        <mat-expansion-panel-header>
            <mat-panel-title>
                <mat-icon>delete</mat-icon>
                <div class="naslov-page">{{ "delete.page" | translate }}</div>
            </mat-panel-title>
        </mat-expansion-panel-header>
    </mat-expansion-panel>
}
