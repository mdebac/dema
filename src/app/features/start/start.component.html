<ng-container
        *ngrxLet="{
        isMobile:isMobile$,
        menuSide:menuSide$,
        header:header$,
        isLoggedIn: authStore.isLoggedIn$,
        selectedIso: selectedIso$,
        role: role$,
        user:user$
        } as vm"
>

    <div class="grid-container">

        <div class="header-container">

            <div class="iconSpace">
                @if (vm.isMobile) {
                    <!--                    <img width="50" *ngIf="vm.header?.iconImage" (click)="toHome()"-->
                            <!--                         src="{{'data:image/jpg;base64,' + vm.header?.iconImage}}" alt=""/>-->
                } @else {
                    <!--                    <img width="200" *ngIf="vm.header?.iconImage" (click)="toHome()"-->
                            <!--                         src="{{'data:image/jpg;base64,' + vm.header?.iconImage}}" alt=""/>-->
                    {{ getIconText(vm.selectedIso, vm.header?.iso) }}
                }
            </div>

            <div class="rightSpace">
                <div class="contentSpace">
                    <div class="headerText">
                        <div class="titleText">
                            {{ getIconTitle(vm.selectedIso, vm.header?.iso) }}
                            <!--                            <div class="grb">-->
                            <!--                                <div class="grb-crveno"></div>-->
                            <!--                                <div class="grb-bijelo"></div>-->
                            <!--                                <div class="grb-bijelo"></div>-->
                            <!--                                <div class="grb-crveno"></div>-->
                            <!--                            </div>-->
                        </div>
                        @if (!vm.isMobile) {
                        <div class="descriptionText">
                            {{ getDescriptionText(vm.selectedIso, vm.header?.iso) }}
                        </div>
                        }
                    </div>
                    <div class="isoSpaceLanguage">

                        <iso-buttons *ngIf="vm.header?.languages" [countries]="vm.header?.languages"
                                     [selectedIn]="vm.selectedIso"
                                     [isMobile]="vm.isMobile"
                                     (selectedOut)="activeIso($event)">
                        </iso-buttons>

                        <user-buttons [user]="vm.user"
                                      [isMobile]="vm.isMobile"
                                      [isLoggedIn]="vm.isLoggedIn">
                        </user-buttons>

                        @if (vm.isMobile) {
                          <mobile-top-menu
                                  [canEdit]="vm.role.includes(Roles.ADMIN.toUpperCase()) || vm.role.includes(Roles.MANAGER.toUpperCase())"
                                  [header]="vm.header"
                                  [selectedIso]="vm.selectedIso">
                          </mobile-top-menu>
                        }
                    </div>
                </div>

                @if (!vm.isMobile) {
                    <top-menu
                            [canEdit]="vm.role.includes(Roles.ADMIN.toUpperCase()) || vm.role.includes(Roles.MANAGER.toUpperCase())"
                            [header]="vm.header"
                            [selectedIso]="vm.selectedIso"
                            [direction]="'row'"
                    ></top-menu>
                }
            </div>
        </div>

        <router-outlet [routerOutletData]="vm.selectedIso"></router-outlet>
    </div>

    <main-conf [header]="vm.header"></main-conf>
</ng-container>
