<ng-container
        *ngrxLet="{
        isMobile:isMobile$,
        menuSide:menuSide$,
        header:header$,
        isLoggedIn: authStore.isLoggedIn$,
        selectedIso: selectedIso$,
        role: role$,
        user:user$
        } as vm"
  >

  <div class="grid-container">

    <div class="header-container">

      <div class="iconSpace">
        @if (vm.isMobile) {

          <!--                    <img width="50" *ngIf="vm.header?.iconImage" (click)="toHome()"-->
          <!--                         src="{{'data:image/jpg;base64,' + vm.header?.iconImage}}" alt=""/>-->
        } @else {
          <!--                    <img width="200" *ngIf="vm.header?.iconImage" (click)="toHome()"-->
          <!--                         src="{{'data:image/jpg;base64,' + vm.header?.iconImage}}" alt=""/>-->


        }
      </div>

      <div class="rightSpace">
        <div class="contentSpace">
          <div [ngClass]="!vm.isMobile ? 'headerText' : 'headerTextMobile'">
<!--            <div class="titleText">-->
<!--              {{ getTitle(vm.selectedIso, vm.header?.iso) }}             -->
<!--          </div>-->
          @if (!vm.isMobile) {

            <quill-view class="my-quill-view" [content]="getTitleAndDescription(vm.selectedIso, vm.header?.main?.iso)" format="html" theme="snow"></quill-view>


<!--xxx-->
<!--            <div class="descriptionText">-->
<!--              {{ getDescriptionText(vm.selectedIso, vm.header?.iso) }}-->
<!--            </div>-->


          }@else{
              <quill-view class="my-quill-view-mobile" [content]="getTitle(vm.selectedIso, vm.header?.main?.iso)" format="html" theme="snow"></quill-view>

          }
        </div>
        <div class="isoSpaceLanguage">

          @if (vm.header?.main?.languages) {
            <iso-buttons [countries]="vm.header?.main?.languages"
              [selectedIn]="vm.selectedIso"
              [isMobile]="vm.isMobile"
              (selectedOut)="activeIso($event)">
            </iso-buttons>
          }

          <user-buttons [user]="vm.user"
            [isMobile]="vm.isMobile"
            [isLoggedIn]="vm.isLoggedIn">
          </user-buttons>

          @if (vm.isMobile) {
            <mobile-top-menu
              [canEdit]="vm.role.includes(Roles.ADMIN.toUpperCase()) || vm.role.includes(Roles.MANAGER.toUpperCase())"
              [header]="vm.header"
              [selectedIso]="vm.selectedIso">
            </mobile-top-menu>
          }
        </div>
      </div>

      @if (!vm.isMobile) {
        <top-menu
          [canEdit]="vm.role.includes(Roles.ADMIN.toUpperCase()) || vm.role.includes(Roles.MANAGER.toUpperCase())"
          [header]="vm.header"
          [selectedIso]="vm.selectedIso"
          [direction]="'row'"
        ></top-menu>
      }
    </div>
  </div>

  <router-outlet [routerOutletData]="vm.selectedIso"></router-outlet>
</div>

<main-conf [header]="vm.header"></main-conf>
</ng-container>
