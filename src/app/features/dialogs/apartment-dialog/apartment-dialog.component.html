<mat-card class="dashboard-card">
  <mat-card-header>
    <h2 class="button-container-left">
      @if (isNew) {
        Create new
      } @else {
      }</h2>
    <div>
      <iso-buttons [countries]="languages" [selectedIn]="selectedIsoTitle" (selectedOut)="activeIso($event)">
      </iso-buttons>
      <button mat-icon-button (click)="chooseLanguages()">
        <mat-icon color="primary">language</mat-icon>
      </button>
    </div>
  </mat-card-header>
  <mat-card-content class="form" [formGroup]="form">

    <div formArrayName="iso">
      <div *ngFor="let item of isoArray.controls; let i = index">

        @if (isIsoSelected(item.value)) {
          <div class="row-input-container-left" [formGroupName]="i">
            <mat-form-field>
              <mat-label>Title</mat-label>
              @if (item.value.iso === defaultIso) {
                <input matInput formControlName="title" placeholder="Title">
              } @else {
                <input matInput formControlName="title" placeholder="Title">
              }
            </mat-form-field>
          </div>

          <div class="row-input-container-left" [formGroupName]="i">
            <mat-form-field>
              <mat-label>Text</mat-label>
              <input matInput formControlName="text" placeholder="Text">
            </mat-form-field>
          </div>

          <div class="row-input-container-left" [formGroupName]="i">
            <mat-form-field>
              <mat-label>Icon title</mat-label>
              <mat-error>
                Min 3, Max 15
              </mat-error>
              <input matInput formControlName="iconTitle" placeholder="Icon title">
            </mat-form-field>

          </div>


          <div class="row-input-container-left" [formGroupName]="i">
            <mat-form-field>
              <mat-label>Icon text</mat-label>
              <input matInput formControlName="iconText" placeholder="Icon text">
            </mat-form-field>
          </div>

        }
      </div>
    </div>

    <div class="row-input-container-left">
      <mat-form-field class="full-width">
        <mat-label>Domain name</mat-label>
        <input matInput formControlName="host" placeholder="Domain name">
        <mat-hint align="end">your-domain.eu</mat-hint>
      </mat-form-field>
    </div>

  <!--
  <div class="row-input-container-left">
      <mat-form-field class="full-width">
        <mat-label>Price</mat-label>
        <input matInput type="number" formControlName="price" placeholder="Price">
      </mat-form-field>
    </div>
     -->
    <div class="row-input-container-left full-width">
      <mat-label>Primary Color</mat-label>
      <br>
      <input [value]="primaryColor"
             [style.background]="primaryColor"
             [(colorPicker)]="primaryColor"
             [cpOKButton]="true"
             (colorPickerChange)="onChangePrimaryColor(primaryColor=$event)"
      />
    </div>
    <div class="row-input-container-left full-width">
      <mat-label>Secondary Color</mat-label>
      <br>
      <input [value]="secondaryColor"
             [style.background]="secondaryColor"
             [(colorPicker)]="secondaryColor"
             [cpOKButton]="true"
             (colorPickerChange)="onChangeSecondaryColor(secondaryColor=$event)"
      />
    </div>

    <div class="row-input-container-left full-width">
      <mat-label>Danger Color</mat-label>
      <br>
      <input [value]="dangerColor"
             [style.background]="dangerColor"
             [(colorPicker)]="dangerColor"
             [cpOKButton]="true"
             (colorPickerChange)="onChangeDangerColor(dangerColor=$event)"
      />
    </div>
    <div class="row-input-container-left full-width">
      <mat-label>Warn Color</mat-label>
      <br>
      <input [value]="warnColor"
             [style.background]="warnColor"
             [(colorPicker)]="warnColor"
             [cpOKButton]="true"
             (colorPickerChange)="onChangeWarnColor(warnColor=$event)"
      />
    </div>
    <div class="row-input-container-left full-width">
      <mat-label>Info Color</mat-label>
      <br>
      <input [value]="infoColor"
             [style.background]="infoColor"
             [(colorPicker)]="infoColor"
             [cpOKButton]="true"
             (colorPickerChange)="onChangeInfoColor(infoColor=$event)"
      />
    </div>
    <div class="row-input-container-left full-width">
      <mat-label>Accept Color</mat-label>
      <br>
      <input [value]="acceptColor"
             [style.background]="acceptColor"
             [(colorPicker)]="acceptColor"
             [cpOKButton]="true"
             (colorPickerChange)="onChangeAcceptColor(acceptColor=$event)"
      />
    </div>

    <br>
    <!--
   <div class="row-input-container-left">
     <mat-form-field class="full-width">
       <mat-label> secondary color</mat-label>

     </mat-form-field>
   </div>
-->
    <div class="row-input-container-left">
      <input
        (change)="selectLogo($event)"
        class="form-control"
        type="file"
        id="formFile"
        accept="image/*"
      >

      <img width="100" src="{{bookCover}}" alt=""/>

      @if (isNew) {

        <button [disabled]="!form.valid" (click)="createApartment()" mat-flat-button color="primary">
          Create
        </button>

      } @else {
        <button [disabled]="!form.valid" (click)="createApartment()" mat-flat-button color="primary">
          Update
        </button>
      }
    </div>

  </mat-card-content>
</mat-card>
